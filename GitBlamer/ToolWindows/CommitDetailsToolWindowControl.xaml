<UserControl x:Class="GitBlamer.ToolWindows.CommitDetailsToolWindowControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:vsshell="clr-namespace:Microsoft.VisualStudio.Shell;assembly=Microsoft.VisualStudio.Shell.15.0"
             xmlns:catalog="clr-namespace:Microsoft.VisualStudio.Imaging;assembly=Microsoft.VisualStudio.ImageCatalog"
             xmlns:imaging="clr-namespace:Microsoft.VisualStudio.Imaging;assembly=Microsoft.VisualStudio.Imaging"
             Background="{DynamicResource {x:Static vsshell:VsBrushes.WindowKey}}"
             Foreground="{DynamicResource {x:Static vsshell:VsBrushes.WindowTextKey}}"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="300"
             DataContext="{Binding RelativeSource={RelativeSource Self}}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="5" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Margin="3">
            <Button Click="PreviousRevisionButton_Click" Margin="0,0,3,0" IsEnabled="{Binding PreviousRevisionCommandIsEnabled}">
                <Button.Template>
                    <ControlTemplate>
                        <imaging:CrispImage Width="16" Height="16" Moniker="{x:Static catalog:KnownMonikers.BrowsePrevious}" 
                                            Grayscale="{Binding PreviousRevisionCommandGrayscale}"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>

            <Button Click="LaterRevisionButton_Click" IsEnabled="{Binding LaterRevisionCommandIsEnabled}">
                <Button.Template>
                    <ControlTemplate>
                        <imaging:CrispImage Width="16" Height="16" Moniker="{x:Static catalog:KnownMonikers.BrowseNext}" 
                                            Grayscale="{Binding LaterRevisionCommandGrayscale}"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </StackPanel>

        <Border Grid.Row="1" Padding="10" BorderThickness="1" BorderBrush="{DynamicResource {x:Static vsshell:VsBrushes.ActiveBorderKey}}">
            <StackPanel>
                <TextBlock TextWrapping="Wrap">
                    <Run FontWeight="Bold">Commit:</Run>
                    <Run Text="{Binding Revision2.ShortSha}"/>
                </TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Run FontWeight="Bold">Author:</Run>
                    <Run Text="{Binding Revision2.Name}"/>
                </TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Run FontWeight="Bold">Subject:</Run>
                    <Run Text="{Binding Revision2.Subject}"/>
                </TextBlock>
                <TextBlock TextWrapping="Wrap" Visibility="{Binding Revision1.HasMessage}">
                    <Run FontWeight="Bold">Message:</Run>
                    <Run Text="{Binding Revision2.Message}"/>
                </TextBlock>
            </StackPanel>
        </Border>

        <GridSplitter Grid.Row="2" Height="5" HorizontalAlignment="Stretch" />

        <Border Grid.Row="3" Padding="10" BorderThickness="1" BorderBrush="{DynamicResource {x:Static vsshell:VsBrushes.ActiveBorderKey}}">
            <StackPanel>
                <TextBlock TextWrapping="Wrap">
                    <Run FontWeight="Bold">Commit:</Run>
                    <Run Text="{Binding Revision1.ShortSha}"/>
                </TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Run FontWeight="Bold">Author:</Run>
                    <Run Text="{Binding Revision1.Name}"/>
                </TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Run FontWeight="Bold">Subject:</Run>
                    <Run Text="{Binding Revision1.Subject}"/>
                </TextBlock>
                <TextBlock TextWrapping="Wrap" Visibility="{Binding Revision2.HasMessage}">
                    <Run FontWeight="Bold">Message:</Run>
                    <Run Text="{Binding Revision1.Message}"/>
                </TextBlock>
            </StackPanel>
        </Border>
            
    </Grid>
</UserControl>
